{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid">
  <h2 class="text-center mt-5 mb-3">Персонажи</h4>
<div class="row mt-5">   
    <div class="col-md-12 col-12">
        {% if players.count == 0 %}
        <h5 class="text-center mt-5 mb-3">Вы еще не создали ни одного персонажа.</h5>
        {% else %}       
        
        <div class="d-flex flex-wrap justify-content-around align-items-center">

{% for player in players %}
          <div class="card mb-3 p-2" style="width: 300px;">
  <h3 class="card-header">{{player.name}}</h3>
  <div class="card-body d-flex justify-content-between align-items-center">
    <h5 class="card-title"> Раса:
      {% if player.race == None %}
      {% else %}
       {{player.race}}
       {% endif %}
      </h5>
    <h5 class="card-title">
       Класс: 
       {% if player.pclass == None %}
      {% else %}
       {{player.pclass}}
       {% endif %}
      </h5>
  </div>
  <div class="card-body text-center">
{% if player.img != None %}
        <img style="width: 200px;" src="{{ player.img.url }}" alt="">
        {% else %}
  {% endif %}
  </div>
  <ul class="list-group list-group-flush mt-2">
    <li class="list-group-item">Уровень: {{player.level}}</li>
    <li class="list-group-item">Опыт: {{player.exp}}</li>    
  </ul>
  <div class="card-body">   
    <a href="{% url 'show_history' player.id  %}" class="btn btn-light">Предыстория и навыки</a>    
    {% if player.free_points > 0 %}
    <a href="{% url 'distribute_points' player.id  %}" class="btn btn-light mt-3">Распределить очки</a> 
    {% else %}
    <a href="{% url 'distribute_points' player.id  %}" class="btn btn-light disabled mt-3">Распределить очки</a> 
    {% endif %}
  </div>
  <div class="card-body d-flex justify-content-between align-items-center">       
    <a href="{% url 'edit_player' player.id %}" class="btn btn-secondary">Изменить</a>
    <a href="{% url 'delete_character' player.id %}" class="btn btn-outline-danger">Удалить</a>
  </div> 
</div>
{% endfor %}

        </div>   
{% endif %}
    </div>
</div>
</div>

{% endblock %}